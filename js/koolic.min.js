function KoolicElement(a){var b=[];this.el=a,this.parent=function(){return $$(this.el.parentNode)},this.validate=function(a){if(koolic.IsFunction(a))b.push(a);else for(var c=0;c<b.length;c++)b[c]();return!0},koolic._elems.push(this)}function KoolicObject(a){for(var b=a,c=0;c<koolic._objs.length;c++)if(koolic._objs[c].equals(a))return koolic._objs[c];this.equals=function(a){return a instanceof KoolicObject?this===a:b===a};for(var d in a)a.hasOwnProperty(d)&&("object"==typeof a[d]?this[d]=new KoolicObject(a[d]):"string"==typeof a[d]||"number"==typeof a[d]||"boolean"==typeof a[d]?(this[d]=new KoolicProperty(a,d),$$._props.push(this[d])):this[d]=a[d]);koolic._objs.push(this)}function KoolicProperty(a,b){var c=b,d=a,e=a[b],f=!1,g=null,h=[];g=koolic.objVal(a,b),this.hasChange=function(){return e!=koolic.objVal(d,c)||koolic.objVal(d,c)!=g},this.onChange=function(a){return"undefined"!=typeof a?(h.push(a),!0):h},this.validate=function(){var a=koolic.objVal(d,c);return a!==e?this.value(koolic.objVal(d,c)):a===e&&a!==g&&(koolic.objVal(d,c,g),e=g),!0},this.value=function(a){if("undefined"==typeof a)return g;if(koolic.IsNumber(a)&&!f)f=!0;else if(f&&!koolic.IsNumber(a)&&null!=a)return!1;if(a!=g){koolic.objVal(d,c,a),g=a;this.onChange();if(h.length>0)for(var i=0;i<h.length;i++)h[i](e,g);e=a}return!0}}function KoolicFunction(a){var b=a,c=[];this.exec=function(){for(var a=[],c=1;c<arguments.length;c++)arguments[c]instanceof KoolicBindableObject&&a.push(arguments[c]);var d=b.apply(b,a);return d},this.bind=function(a,b){var d=new KoolicBinding(this,a,b);c.push(d),koolic._boundObjs.push(d)}}!function(a){}(koolic),function(a){window.KoolicBinding=function(a,b,c){return this.bindable={},this.target={},this.targetProperty="",this.bindable=a,this.target=b,this.targetProperty=c,a instanceof KoolicBindableObject?this:null},KoolicProperty.prototype.bind=function(a){function c(a){for(var d=0;d<b.bindings.length;d++)if(b.bindings[d]==a)return!0;return!1}var b=this;return"undefined"==typeof this.bindings&&(this.bindings=[]),a instanceof KoolicProperty&&!c(a)&&(this.value(a.value()),a.onChange(function(a,c){b.value(c)}),this.bindings.push(a),a.bind(this),this)},KoolicElement.prototype.bind=function(b,c,d){var e=this;if(a.IsPlainObject(b)&&3==arguments.length)return console.log(b),this.bind($$(b)[c],d);if(!(b instanceof KoolicProperty))return!1;var f="innerText";this.el instanceof HTMLInputElement||this.el instanceof HTMLSelectElement?f="value":this.el instanceof HTMLElement&&(f="innerHTML");var g="undefined"==typeof c?f:c;null!=b.value()?a.objVal(this.el,g,b.value()):b.value(a.objVal(this.el,g));var h=a.objVal(this.el,g);return this.validate(function(){var c=a.objVal(e.el,g);h!=c&&b.value(a.objVal(e.el,g))}),b.onChange(function(b,c){a.objVal(e.el,g,c),h=c}),!0}}(koolic),function(a){KoolicElement.prototype.hide=function(){return this._originalDisplay=element.style.display,element.style.display="none",!0},KoolicElement.prototype.show=function(){return element.style.display="undefined"==typeof _originalDisplay||"none"==_originalDisplay?"inline-block":_originalDisplay,!0},KoolicElement.prototype.text=function(a){return"undefined"==typeof a?this.el.innerText:void(this.el.innerText=a)},KoolicElement.prototype.html=function(a){return"undefined"==typeof a?this.el.innerHTML:void(this.el.innerHTML=a)}}(koolic),function(){window.koolic=function(a){return $$.find(a)},window.koolic.IsPlainObject=function(a){return a instanceof Object&&!(a instanceof Function||"[object Object]"!==a.toString()||"Object"!==a.constructor.name)},window.koolic.IsDOMObject=function(a){return a instanceof EventTarget},window.koolic.IsDOMElement=function(a){return a instanceof Node},window.koolic.IsListObject=function(a){return a instanceof Array||a instanceof NodeList},window.koolic.IsFunction=function(a){var b={};return"undefined"!=typeof a&&a&&"[object Function]"===b.toString.call(a)},window.koolic.IsNumber=function(a){return/^-?[\d.]+(?:e-?\d+)?$/.test(a)},window.koolic.IsString=function(a){return"string"==typeof o||"object"==typeof o&&o.constructor===String},window.koolic._elems=[],window.koolic._objs=[],window.koolic._props=[],window.koolic._frameTimer=function(){for(var a=0;a<koolic._props.length;a++)koolic._props[a].validate();for(var a=0;a<koolic._elems.length;a++)koolic._elems[a].validate();setTimeout(koolic._frameTimer,10)},setTimeout(koolic._frameTimer,10),"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),window.koolic.objVal=function(a,b,c){var d=b.split(".");if(d.length>1){for(var e="",f=1;f<d.length;f++)e+=d[f]+(f<d.length-1?".":"");return window.koolic.objVal(a[d[0]],e,c)}return"undefined"!=typeof c?(a[d[0]]=c,!0):a[d[0]]},window.$$=window.koolic}(),function(a){a.find=function(a){if(null!=a){if("string"==typeof a&&a.length>0){var b=document.querySelectorAll(a);if(1==b.length)return new KoolicElement(b[0]);for(var c=[],d=0;d<b.length;d++)c.push(new KoolicElement(b[d]));return c}if($$.IsDOMElement(a))return new KoolicElement(a);if($$.IsPlainObject(a))return new KoolicObject(a);$$.IsFunction(a)}}}(window.koolic);